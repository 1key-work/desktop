(()=>{var e,t,a,r,i,n,o;i=console,o=e=>new Promise((t=>setTimeout(t,e))),a=location.host,r=async(e,t)=>{var a,r,i;({timeout:i}=t),void 0===i&&(i=9e3),a=new AbortController,r=setTimeout((()=>a.abort()),i);try{return await fetch(e,{...t,signal:a.signal})}finally{clearTimeout(r)}},n=async e=>{var t,i,n;if(new URL(e.url).host!==a){t={credentials:"omit",mode:"cors"};try{n=await r(e,t)}catch(a){a,delete t.mode,n=await r(e,t)}}else n=await r(e);return n&&n.ok&&(i=new Response(n.clone().body,n),caches.open(1).then((t=>t.put(e,i)))),n},e=0,t={install:e=>e.waitUntil(skipWaiting()),activate:e=>e.waitUntil(clients.claim()),fetch:t=>{var r,s,l,c,h;if(({method:s}=c=t.request),!(["GET","OPTIONS"].indexOf(s)<0)&&(({host:r}=h=new URL(c.url)),r===a))return({pathname:l}=h),l.indexOf(".")<0?c=new Request("/",{method:s}):"/.v"===l&&n(c).catch((e=>i.error(c,e))),t.respondWith(caches.match(c).then((async a=>{var r,s,l,h,u;if(a)return a;for(h=void 0;;){for(;(l=new Date-e)<1e3;)await o(l);try{if(!(null!=(u=await n(c))?u.ok:void 0))throw Error(await u.text());return h&&r&&r.postMessage(["O",c.url]),u}catch(a){h=a,e=now,({clientId:s}=t),i.error(h,c,u),s&&null!=(r=await clients.get(s))&&r.postMessage(["X",c.url])}}})))}},(()=>{var e,a,r;for(e in a=[],t)r=t[e],a.push(addEventListener(e,r))})()})();