(()=>{var e,t,a,n,r,i;n=console,i=e=>new Promise((t=>setTimeout(t,e))),a=location.host,r=async e=>{var t,n,r;if(new URL(e.url).host!==a){t={credentials:"omit",mode:"cors"};try{r=await fetch(e,t)}catch(a){a,delete t.mode,r=await fetch(e,t)}}else r=await fetch(e);return r&&(r.ok=[200,304].indexOf(r.status)>=0,r.ok&&(n=new Response(r.clone().body,r),caches.open(1).then((t=>t.put(e,n))))),r},e=0,t={install:e=>e.waitUntil(skipWaiting()),activate:t=>(t.waitUntil(clients.claim()),addEventListener("fetch",(t=>{var o,s,c,l,h;if(({method:s}=l=t.request),!(["GET","OPTIONS"].indexOf(s)<0)&&(({host:o}=h=new URL(l.url)),o===a))return({pathname:c}=h),c.indexOf(".")<0&&(l=new Request("/",{method:s})),t.respondWith(caches.match(l).then((async a=>{var o,s,h,d,u,w;if(a)return"/.v"===c&&r(l).catch((e=>n.error(l,e))),a;for(d=void 0;;){for(;(h=(u=new Date)-e)<1e3;)await i(h);try{if(!(null!=(w=await r(l))?w.ok:void 0))throw Error(await w.text());return d&&o&&o.postMessage(["O",l.url]),w}catch(a){d=a,e=u,({clientId:s}=t),n.error(d,l,w),s&&null!=(o=await clients.get(s))&&o.postMessage(["X",l.url])}}})))})))},(()=>{var e,a,n;for(e in a=[],t)n=t[e],a.push(addEventListener(e,n))})()})();