(()=>{var e,t,a,r,n,o;r=console,o=e=>new Promise((t=>setTimeout(t,e))),a=location.host,n=async e=>{var t,r,n;if(new URL(e.url).host!==a){t={credentials:"omit",mode:"cors"};try{n=await fetch(e,t)}catch(a){a,delete t.mode,n=await fetch(e,t)}}else n=await fetch(e);return n&&(n.ok=[200,304].indexOf(n.status)>=0,n.ok&&(r=new Response(n.clone().body,n),caches.open(1).then((t=>t.put(e,r))))),n},e=0,t={activate:e=>e.waitUntil(clients.claim()),fetch:t=>{var i,s,c,h,l;if(({method:s}=h=t.request),!(["GET","OPTIONS"].indexOf(s)<0)&&(({host:i}=l=new URL(h.url)),i===a))return({pathname:c}=l),c.indexOf(".")<0&&(h=new Request("/",{method:s})),t.respondWith(caches.match(h).then((async a=>{var i,s,l,d,u,w;if(a)return"/.v"===c&&n(h).catch((e=>r.error(h,e))),a;for(d=void 0;;){for(;(l=(u=new Date)-e)<1e3;)await o(l);try{if(!(null!=(w=await n(h))?w.ok:void 0))throw Error(await w.text());return d&&i&&i.postMessage(["O",h.url]),w}catch(a){d=a,e=u,({clientId:s}=t),r.error(d,h,w),s&&null!=(i=await clients.get(s))&&i.postMessage(["X",h.url])}}})))}},(()=>{var e,a,r;for(e in a=[],t)r=t[e],a.push(addEventListener(e,r))})()})();